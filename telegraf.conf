[agent]
  interval = "10s"
  round_interval = true
  debug = true  # เพิ่มเพื่อ debug logs

[[outputs.influxdb_v2]]
  urls = ["http://influxdb:8086"]
  token = "my-token-1234567890abcdef"
  organization = "myorg"
  bucket = "sensors"

[[inputs.mqtt_consumer]]
  servers = ["tcp://mosquitto:1883"]
  topics = ["cucumber/sensors/#"]  # Wildcard จับ cucumber/sensors/cucumber_1 ถึง cucumber_10
  data_format = "json"
  json_string_fields = ["time", "sensor_id"]  # เพิ่ม sensor_id เป็น string
  name_override = "cucumber"  # Measurement เดียวกันใน InfluxDB